/*
* {
    "divisions": [
        {
            "individuals": [
                {
                    "according": 0,
                    "averageScore": 90.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 4,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Blue #2",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 90,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 90,
                    "special": 0,
                    "team": "Blue Team"
                },
                {
                    "according": 0,
                    "averageScore": 90.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 4,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Green #3",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 90,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 90,
                    "special": 0,
                    "team": "Green Team"
                },
                {
                    "according": 0,
                    "averageScore": 90.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 4,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Green #4",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 90,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 90,
                    "special": 0,
                    "team": "Green Team"
                },
                {
                    "according": 0,
                    "averageScore": 90.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 4,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Green #1",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 90,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 90,
                    "special": 0,
                    "team": "Green Team"
                },
                {
                    "according": 0,
                    "averageScore": 40.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 2,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Blue #3",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 40,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 40,
                    "special": 0,
                    "team": "Blue Team"
                },
                {
                    "according": 0,
                    "averageScore": 20.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 1,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Blue #1",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 20,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 20,
                    "special": 0,
                    "team": "Blue Team"
                },
                {
                    "according": 0,
                    "averageScore": 20.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 1,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Green #2",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 20,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 20,
                    "special": 0,
                    "team": "Green Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Red #1",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Red Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Red #2",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Red Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Red #3",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Red Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Red #4",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Red Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Red #5",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Red Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Blue #5",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Blue Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Blue #4",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Blue Team"
                },
                {
                    "according": 0,
                    "averageScore": 0.0,
                    "bonus": 0,
                    "bonusAttempts": 0,
                    "context": 0,
                    "correct": 0,
                    "errors": 0,
                    "errors16_5": 0,
                    "generals": 0,
                    "memory": 0,
                    "name": "Green #5",
                    "roundData": [
                        {
                            "errors": 0,
                            "room": "1",
                            "round": "1",
                            "score": 0,
                            "tdrri": 2
                        }
                    ],
                    "rounds": 1,
                    "score": 0,
                    "special": 0,
                    "team": "Green Team"
                }
            ],
            "name": "Experienced Prelims",
            "teams": [
                {
                    "averageScore": 310.0,
                    "losses": 0,
                    "modifiedOlympicPoints": 31,
                    "name": "Green Team",
                    "olympicPoints": 10,
                    "quizzes": [
                        {
                            "completed": true,
                            "division": "Experienced",
                            "room": "1",
                            "round": "1",
                            "tdrri": 2,
                            "teams": [
                                {
                                    "name": "Red Team",
                                    "score": 0
                                },
                                {
                                    "name": "Blue Team",
                                    "score": 160
                                },
                                {
                                    "name": "Green Team",
                                    "score": 310
                                }
                            ],
                            "time": 1748876437,
                            "timeFormatted": "2025-06-02 11:00",
                            "tournament": "Test Tournament #1"
                        }
                    ],
                    "rounds": 1,
                    "totalScore": 310,
                    "wins": 2
                },
                {
                    "averageScore": 160.0,
                    "losses": 1,
                    "modifiedOlympicPoints": 15,
                    "name": "Blue Team",
                    "olympicPoints": 5,
                    "quizzes": [
                        {
                            "completed": true,
                            "division": "Experienced",
                            "room": "1",
                            "round": "1",
                            "tdrri": 2,
                            "teams": [
                                {
                                    "name": "Red Team",
                                    "score": 0
                                },
                                {
                                    "name": "Blue Team",
                                    "score": 160
                                },
                                {
                                    "name": "Green Team",
                                    "score": 310
                                }
                            ],
                            "time": 1748876437,
                            "timeFormatted": "2025-06-02 11:00",
                            "tournament": "Test Tournament #1"
                        }
                    ],
                    "rounds": 1,
                    "totalScore": 160,
                    "wins": 1
                },
                {
                    "averageScore": 0.0,
                    "losses": 2,
                    "modifiedOlympicPoints": 1,
                    "name": "Red Team",
                    "olympicPoints": 1,
                    "quizzes": [
                        {
                            "completed": true,
                            "division": "Experienced",
                            "room": "1",
                            "round": "1",
                            "tdrri": 2,
                            "teams": [
                                {
                                    "name": "Red Team",
                                    "score": 0
                                },
                                {
                                    "name": "Blue Team",
                                    "score": 160
                                },
                                {
                                    "name": "Green Team",
                                    "score": 310
                                }
                            ],
                            "time": 1748876437,
                            "timeFormatted": "2025-06-02 11:00",
                            "tournament": "Test Tournament #1"
                        }
                    ],
                    "rounds": 1,
                    "totalScore": 0,
                    "wins": 0
                }
            ],
            "webName": "Experienced Prelims"
        }
    ],
    "lastUpdated": "1748944134",
    "tickertape": [
        {
            "division": "Experienced",
            "room": "1",
            "round": "2",
            "tdrri": 3,
            "teams": [],
            "time": 1748885887,
            "timeFormatted": "2025-06-02 13:38",
            "tournament": "Test Tournament #1"
        },
        {
            "division": "Experienced",
            "room": "1",
            "round": "1",
            "tdrri": 2,
            "teams": [
                {
                    "name": "Red Team",
                    "score": 0
                },
                {
                    "name": "Blue Team",
                    "score": 160
                },
                {
                    "name": "Green Team",
                    "score": 310
                }
            ],
            "time": 1748876437,
            "timeFormatted": "2025-06-02 11:00",
            "tournament": "Test Tournament #1"
        },
        {
            "division": "Experienced",
            "room": "1",
            "round": "1",
            "tdrri": 1,
            "teams": [],
            "time": -3617008641903833651,
            "tournament": "District Invite #1"
        }
    ],
    "tournamentName": "District Invite #1",
    "updatedEveryMinutes": 1
}*/

export type ScoresheetQuestion =
  | ""
  | "-10"
  | "10"
  | "20"
  | "30"
  | "C"
  | "E"
  | "B"
  | "/";
// / == missed bonus, C == 21st question tiebreaker

export interface ScoresheetQuizzer {
  name: string;
  questions: Array<ScoresheetQuestion>;
  totalScore: number;
  totalCorrect: number;
  totalErrors: number;
  totalFouls: number;
}

export interface ScoresheetTeam {
  name: string;
  quizzersWithCorrectQuestions: number;
  overruledChallenges: number;
  place: number;
  quizzers: Array<ScoresheetQuizzer>;
  bonusOrPenaltyPoints: Array<"" | "-10" | "10">;
  runningScore: Array<string>;
}

export interface Scoresheet {
  tdrri: string;
  division: string;
  room: string;
  round: string;
  tournament: string; // TODO: check if matches in main tournament data
  teams: Array<ScoresheetTeam>;
}

export interface TickertapeRoomData {
  division: string;
  room: string;
  round: string;
  tdrri: number;
  teams: { name: string; score: number }[];
  time: number;
  timeFormatted?: string;
  tournament: string;
  livestreamUrl?: string;
}

export interface IndividualRoundData {
  errors: number;
  room: string;
  round: string;
  score: number;
  tdrri: number;
}

export interface IndividualData {
  according: number;
  averageScore: number;
  bonus: number;
  bonusAttempts: number;
  context: number;
  correct: number;
  errors: number;
  errors16_5: number;
  generals: number;
  memory: number;
  name: string;
  quizzes: IndividualRoundData[];
  rounds: number;
  score: number;
  special: number;
  team: string;
}

export type TeamRoundData = TickertapeRoomData & {
  completed: boolean;
};

export interface TeamData {
  averageScore: number;
  losses: number;
  modifiedOlympicPoints: number;
  name: string;
  olympicPoints: number;
  quizzes: TeamRoundData[];
  rounds: number;
  totalScore: number;
  wins: number;
}

export interface DivisionData {
  individuals: IndividualData[];
  name: string;
  teams: TeamData[];
  webName: string;
}

export interface TournamentData {
  divisions: DivisionData[];
  lastUpdated: string;
  tickertape: TickertapeRoomData[];
  tournamentName: string;
  updatedEveryMinutes: number;
}
